<ngx-spinner type="ball-climbing-dot"></ngx-spinner>
<div *ngIf="!shared && !validCredentialObj" class="fullscreen">
    <zxing-scanner style="height: 100%" class="fullscreen" (scanSuccess)="onCodeResult($event)" #scannerView></zxing-scanner>
</div>
<div class="container d-flex justify-content-center" *ngIf="shared">
    <div *ngIf="shared" class="information">
        <h1>Shared information</h1>
            <div class="information-div">
                <div *ngFor="let sharedItem of shared" class="information-detail row">
                    <div class="col-md-12" *ngIf="credentialIsPassportImage(sharedItem.credentialSubject.credential.type)">
                        <div class="information-detail-key img-div">
                            <img [src]="sharedItem.credentialSubject.credential.value | safeHtmlImage" class="epassimg">
                        </div>
                    </div>
                    <div class="col" *ngIf="!credentialIsPassportImage(sharedItem.credentialSubject.credential.type)">
                        <div class="information-detail-key">
                            <img *ngIf="sharedType === 'EPASS'" src="/assets/img/epass.png" class="small-img" />
                            <img *ngIf="sharedType === 'IDIN'" src="/assets/img/idin.png" class="small-img" />
                            <p class="type">{{ sharedItem.credentialSubject.credential.type}}</p>
                        </div>
                    </div>
                    <div class="col" *ngIf="!credentialIsPassportImage(sharedItem.credentialSubject.credential.type)">
                        <div class="information-detail-value">
                            <p *ngIf="!isTwoDigitDateCredential(sharedItem.type[1]) && valueIsTrueBoolean(sharedItem.credentialSubject.credential.value)" class="value">Yes</p>
                            <p *ngIf="!isTwoDigitDateCredential(sharedItem.type[1]) && valueIsFalseBoolean(sharedItem.credentialSubject.credential.value)" class="value">No</p>
                            <p *ngIf="!isTwoDigitDateCredential(sharedItem.type[1]) && !valueIsTrueBoolean(sharedItem.credentialSubject.credential.value) && !valueIsFalseBoolean(sharedItem.credentialSubject.credential.value)" class="value">
                                {{ sharedItem.credentialSubject.credential.value }}
                            </p>
                            <p *ngIf="isTwoDigitDateCredential(sharedItem.type[1])" class="value">
                                {{ convertTwoDigitDate(sharedItem.credentialSubject.credential.value) | date:'yyyy-MM-dd'}}
                            </p>
<!--                            <img *ngIf="!isTwoDigitDateCredential(sharedItem.type[1])" [src]="sharedItem.credentialSubject.credential.value | safeHtmlImage" class="epassimg">-->
                        </div>
                    </div>
                </div>
            </div>
        <button (click)="reScan()" class="button">RESCAN</button>
    </div>
    <div *ngIf="validCredentialObj && !validCredentialObj.valid" class="information">
        <h1 class="error">Error validating information</h1>
        <p class="type">{{ validCredentialObj.message }}</p>
        <button (click)="reScan()" class="button">rescan</button>
    </div>
</div>
